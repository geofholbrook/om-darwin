; OM File Header - Saved 2015/06/12 12:49:45
; (6.1 :patc (om-make-point 24 24) (om-make-point 892 311) (om-make-point 1273 910) "" 183 0 nil "2015/06/12 12:49:45")
; End File Header
(in-package :om)(load-lib-for (quote nil))(setf *om-current-persistent* (om-load-patch1 "analyze sample" (quote ((let ((box (om-load-boxout "output" 0 (om-make-point 303 610) (quote ((om-load-inputfun (quote input-funbox) "" "out" nil))) nil nil))) (when (fboundp (quote set-active)) (set-active box nil)) box) (let ((box (om-load-boxin "input" 0 (om-make-point 50 50) "" nil nil nil))) (when (fboundp (quote set-active)) (set-active box nil)) box) (let ((box (om-load-boxcall (quote bastype) "aux 5" (quote t) (quote nil) (om-make-point 201 281) (om-make-point 60 30) (quote second) "second" nil))) (when (fboundp (quote set-active)) (set-active box nil)) box) (let ((box (om-load-boxcall (quote lispfun) "MAPCAR" (quote mapcar) (quote ((om-load-inputfun (quote input-funbox) "FUNCTION" "FUNCTION" (quote first)) (om-load-inputfun (quote input-funbox) "LIST" "LIST" nil))) (om-make-point 311 378) nil nil nil nil 1))) (when (fboundp (quote set-active)) (set-active box nil)) box) (let ((box (om-load-boxcall (quote bastype) "aux 3" (quote t) (quote nil) (om-make-point 396 175) (om-make-point 27 30) 4 "4" nil))) (when (fboundp (quote set-active)) (set-active box nil)) box) (let ((box (om-load-boxcall (quote abstraction) "strongest-frequencies" (om-load-lisp-abspatch "strongest-frequencies" 6.1 "(lambda (path n)$  (let ((data (chord-seq-raw-data$               (load-sdif-file$                (chord-seq-analysis (om::load-sound path) $                                    :amp-treshold -60$                                    :begin-t 0.1$                                    :end-t 0.2))$               'all 0)))$    (om::first-n (sort data$                       #'> $                       :key #'third)$                 n)))$") (quote ((om-load-inputfun (quote input-funbox) "" "PATH" nil) (om-load-inputfun (quote input-funbox) "" "N" 8))) (om-make-point 295 253) nil (list (list (list 0.0D0 42.01561737060547D0 0.005315312184393406D0 2.028979591836735D0) (list 0.0D0 117.20890808105469D0 0.0033238669857382775D0 2.028979591836735D0) (list 0.0D0 84.53193664550781D0 0.003167480230331421D0 2.028979591836735D0) (list 0.0D0 5052.0D0 0.0027225520461797715D0 2.028979591836735D0))) nil nil))) (when (fboundp (quote set-active)) (set-active box nil)) box))) (quote ((3 0 0 0 nil 0) (2 0 3 0 nil 0) (5 0 3 1 nil 0) (1 0 5 0 nil 0) (4 0 5 1 nil 0))) nil 6.1))
